var V=Object.defineProperty;var W=(l,p,f)=>p in l?V(l,p,{enumerable:!0,configurable:!0,writable:!0,value:f}):l[p]=f;var A=(l,p,f)=>(W(l,typeof p!="symbol"?p+"":p,f),f);import{am as H,r as v,j as I}from"./index-37b3e965.js";import{s as K}from"./sortable.esm-089350b4.js";import{C as Q}from"./index-6332c94d.js";var k={exports:{}};const X=H(K);var z={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(l){(function(){var p={}.hasOwnProperty;function f(){for(var m=[],$=0;$<arguments.length;$++){var c=arguments[$];if(c){var d=typeof c;if(d==="string"||d==="number")m.push(c);else if(Array.isArray(c)){if(c.length){var x=f.apply(null,c);x&&m.push(x)}}else if(d==="object")if(c.toString===Object.prototype.toString)for(var g in c)p.call(c,g)&&c[g]&&m.push(g);else m.push(c.toString())}}return m.join(" ")}l.exports?(f.default=f,l.exports=f):window.classNames=f})()})(z);var Y=z.exports,Z="Invariant failed";function ee(l,p){if(!l)throw new Error(Z)}const te=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"})),se=H(te);(function(l){var p=X,f=Y,m=v,$=se;function c(s){return s&&s.__esModule?s.default:s}function d(s,e,t,n){Object.defineProperty(s,e,{get:t,set:n,enumerable:!0,configurable:!0})}function x(s,e){return Object.keys(e).forEach(function(t){t==="default"||t==="__esModule"||s.hasOwnProperty(t)||Object.defineProperty(s,t,{enumerable:!0,get:function(){return e[t]}})}),s}d(l.exports,"Sortable",()=>$882b6d93070905b3$re_export$Sortable),d(l.exports,"Direction",()=>$882b6d93070905b3$re_export$Direction),d(l.exports,"DOMRect",()=>$882b6d93070905b3$re_export$DOMRect),d(l.exports,"GroupOptions",()=>$882b6d93070905b3$re_export$GroupOptions),d(l.exports,"MoveEvent",()=>$882b6d93070905b3$re_export$MoveEvent),d(l.exports,"Options",()=>$882b6d93070905b3$re_export$Options),d(l.exports,"PullResult",()=>$882b6d93070905b3$re_export$PullResult),d(l.exports,"PutResult",()=>$882b6d93070905b3$re_export$PutResult),d(l.exports,"SortableEvent",()=>$882b6d93070905b3$re_export$SortableEvent),d(l.exports,"SortableOptions",()=>$882b6d93070905b3$re_export$SortableOptions),d(l.exports,"Utils",()=>$882b6d93070905b3$re_export$Utils),d(l.exports,"ReactSortable",()=>_);function g(s){s.parentElement!==null&&s.parentElement.removeChild(s)}function F(s,e,t){const n=s.children[t]||null;s.insertBefore(e,n)}function E(s){s.forEach(e=>g(e.element))}function L(s){s.forEach(e=>{F(e.parentElement,e.element,e.oldIndex)})}function C(s,e){const t=P(s),n={parentElement:s.from};let r=[];switch(t){case"normal":r=[{element:s.item,newIndex:s.newIndex,oldIndex:s.oldIndex,parentElement:s.from}];break;case"swap":const i={element:s.item,oldIndex:s.oldIndex,newIndex:s.newIndex,...n},u={element:s.swapItem,oldIndex:s.newIndex,newIndex:s.oldIndex,...n};r=[i,u];break;case"multidrag":r=s.oldIndicies.map((h,w)=>({element:h.multiDragElement,oldIndex:h.index,newIndex:s.newIndicies[w].index,...n}));break}return q(r,e)}function G(s,e){const t=j(s,e);return M(s,t)}function j(s,e){const t=[...e];return s.concat().reverse().forEach(n=>t.splice(n.oldIndex,1)),t}function M(s,e,t,n){const r=[...e];return s.forEach(o=>{const a=n&&t&&n(o.item,t);r.splice(o.newIndex,0,a||o.item)}),r}function P(s){return s.oldIndicies&&s.oldIndicies.length>0?"multidrag":s.swapItem?"swap":"normal"}function q(s,e){return s.map(n=>({...n,item:e[n.oldIndex]})).sort((n,r)=>n.oldIndex-r.oldIndex)}function T(s){const{list:e,setList:t,children:n,tag:r,style:o,className:a,clone:i,onAdd:u,onChange:h,onChoose:w,onClone:D,onEnd:O,onFilter:y,onRemove:S,onSort:R,onStart:N,onUnchoose:U,onUpdate:oe,onMove:re,onSpill:ae,onSelect:le,onDeselect:ie,...J}=s;return J}const b={dragging:null};class _ extends m.Component{constructor(e){super(e),this.ref=(0,m.createRef)();const t=[...e.list].map(n=>Object.assign(n,{chosen:!1,selected:!1}));e.setList(t,this.sortable,b),c($)(!e.plugins,`
Plugins prop is no longer supported.
Instead, mount it with "Sortable.mount(new MultiDrag())"
Please read the updated README.md at https://github.com/SortableJS/react-sortablejs.
      `)}componentDidMount(){if(this.ref.current===null)return;const e=this.makeOptions();c(p).create(this.ref.current,e)}componentDidUpdate(e){e.disabled!==this.props.disabled&&this.sortable&&this.sortable.option("disabled",this.props.disabled)}render(){const{tag:e,style:t,className:n,id:r}=this.props,o={style:t,className:n,id:r},a=!e||e===null?"div":e;return(0,m.createElement)(a,{ref:this.ref,...o},this.getChildren())}getChildren(){const{children:e,dataIdAttr:t,selectedClass:n="sortable-selected",chosenClass:r="sortable-chosen",dragClass:o="sortable-drag",fallbackClass:a="sortable-falback",ghostClass:i="sortable-ghost",swapClass:u="sortable-swap-highlight",filter:h="sortable-filter",list:w}=this.props;if(!e||e==null)return null;const D=t||"data-id";return m.Children.map(e,(O,y)=>{if(O===void 0)return;const S=w[y]||{},{className:R}=O.props,N=typeof h=="string"&&{[h.replace(".","")]:!!S.filtered},U=c(f)(R,{[n]:S.selected,[r]:S.chosen,...N});return(0,m.cloneElement)(O,{[D]:O.key,className:U})})}get sortable(){const e=this.ref.current;if(e===null)return null;const t=Object.keys(e).find(n=>n.includes("Sortable"));return t?e[t]:null}makeOptions(){const e=["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"],t=["onChange","onClone","onFilter","onSort"],n=T(this.props);return e.forEach(o=>n[o]=this.prepareOnHandlerPropAndDOM(o)),t.forEach(o=>n[o]=this.prepareOnHandlerProp(o)),{...n,onMove:(o,a)=>{const{onMove:i}=this.props,u=o.willInsertAfter||-1;if(!i)return u;const h=i(o,a,this.sortable,b);return typeof h>"u"?!1:h}}}prepareOnHandlerPropAndDOM(e){return t=>{this.callOnHandlerProp(t,e),this[e](t)}}prepareOnHandlerProp(e){return t=>{this.callOnHandlerProp(t,e)}}callOnHandlerProp(e,t){const n=this.props[t];n&&n(e,this.sortable,b)}onAdd(e){const{list:t,setList:n,clone:r}=this.props,o=[...b.dragging.props.list],a=C(e,o);E(a);const i=M(a,t,e,r).map(u=>Object.assign(u,{selected:!1}));n(i,this.sortable,b)}onRemove(e){const{list:t,setList:n}=this.props,r=P(e),o=C(e,t);L(o);let a=[...t];if(e.pullMode!=="clone")a=j(o,a);else{let i=o;switch(r){case"multidrag":i=o.map((u,h)=>({...u,element:e.clones[h]}));break;case"normal":i=o.map(u=>({...u,element:e.clone}));break;case"swap":default:c($)(!0,`mode "${r}" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "${r}" plugin`)}E(i),o.forEach(u=>{const h=u.oldIndex,w=this.props.clone(u.item,e);a.splice(h,1,w)})}a=a.map(i=>Object.assign(i,{selected:!1})),n(a,this.sortable,b)}onUpdate(e){const{list:t,setList:n}=this.props,r=C(e,t);E(r),L(r);const o=G(r,t);return n(o,this.sortable,b)}onStart(){b.dragging=this}onEnd(){b.dragging=null}onChoose(e){const{list:t,setList:n}=this.props,r=t.map((o,a)=>{let i=o;return a===e.oldIndex&&(i=Object.assign(o,{chosen:!0})),i});n(r,this.sortable,b)}onUnchoose(e){const{list:t,setList:n}=this.props,r=t.map((o,a)=>{let i=o;return a===e.oldIndex&&(i=Object.assign(i,{chosen:!1})),i});n(r,this.sortable,b)}onSpill(e){const{removeOnSpill:t,revertOnSpill:n}=this.props;t&&!n&&g(e.item)}onSelect(e){const{list:t,setList:n}=this.props,r=t.map(o=>Object.assign(o,{selected:!1}));e.newIndicies.forEach(o=>{const a=o.index;a!==-1&&(r[a].selected=!0)}),n(r,this.sortable,b)}onDeselect(e){const{list:t,setList:n}=this.props,r=t.map(o=>Object.assign(o,{selected:!1}));e.newIndicies.forEach(o=>{const a=o.index;a!==-1&&(r[a].selected=!0)}),n(r,this.sortable,b)}}A(_,"defaultProps",{clone:e=>e});var B={};x(l.exports,B)})(k);var ne=k.exports;function ue(){const l={scroll:!0,animation:500,group:"sortableGroup",ghostClass:"sortable-ghost",dragClass:"sortable-ghost",handle:".sortable-handle",filter:".sortable-ignore-elements",preventOnFilter:!1,draggable:".sortable-draggable",fallbackTolerance:5},[p,f]=v.useState([{name:"apple",id:1},{name:"banana",id:2},{name:"watermelon",id:3},{name:"orange",id:4},{name:"peach",id:5}]),[m,$]=v.useState(!1);function c(){$(!0),window.scrollTo(0,0)}function d(){}return I.jsxs(Q,{className:"h-full",children:[I.jsx("div",{className:"title",children:"Draggable"}),I.jsx("div",{className:"sortable-wrap ml-16",children:I.jsx(ne.ReactSortable,{list:p,setList:f,tag:"div",...l,onStart:c,onEnd:d,children:p.map(x=>I.jsx("div",{className:"row sortable-draggable sortable-handle",children:x.name},x.id))})})]})}export{ue as default};
